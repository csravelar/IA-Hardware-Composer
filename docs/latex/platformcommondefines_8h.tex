\hypertarget{platformcommondefines_8h}{}\section{os/platformcommondefines.h File Reference}
\label{platformcommondefines_8h}\index{os/platformcommondefines.\+h@{os/platformcommondefines.\+h}}
{\ttfamily \#include $<$hwcbuffer.\+h$>$}\newline
{\ttfamily \#include $<$xf86drm.\+h$>$}\newline
{\ttfamily \#include $<$xf86drm\+Mode.\+h$>$}\newline
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structdrm__color__ctm__post__offset}{drm\+\_\+color\+\_\+ctm\+\_\+post\+\_\+offset}}
\item 
struct \mbox{\hyperlink{structFBKey}{F\+B\+Key}}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{platformcommondefines_8h_ad7f00a345dab08d589d532e519991fc3}{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+N\+O\+NE}}~\mbox{\hyperlink{alios_2platformdefines_8h_aa22aaae0f0619113f80ec577f4cf7944}{fourcc\+\_\+code}}(\textquotesingle{}0\textquotesingle{}, \textquotesingle{}0\textquotesingle{}, \textquotesingle{}0\textquotesingle{}, \textquotesingle{}0\textquotesingle{})
\item 
\#define \mbox{\hyperlink{platformcommondefines_8h_acc3833d3c4296fe78db4ba117d1eb904}{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+N\+V12\+\_\+\+Y\+\_\+\+T\+I\+L\+E\+D\+\_\+\+I\+N\+T\+EL}}~\mbox{\hyperlink{alios_2platformdefines_8h_aa22aaae0f0619113f80ec577f4cf7944}{fourcc\+\_\+code}}(\textquotesingle{}9\textquotesingle{}, \textquotesingle{}9\textquotesingle{}, \textquotesingle{}9\textquotesingle{}, \textquotesingle{}6\textquotesingle{})
\item 
\#define \mbox{\hyperlink{platformcommondefines_8h_ab99766273330adb0e9694d2c0b873713}{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+Y\+V\+U420\+\_\+\+A\+N\+D\+R\+O\+ID}}~\mbox{\hyperlink{alios_2platformdefines_8h_aa22aaae0f0619113f80ec577f4cf7944}{fourcc\+\_\+code}}(\textquotesingle{}9\textquotesingle{}, \textquotesingle{}9\textquotesingle{}, \textquotesingle{}9\textquotesingle{}, \textquotesingle{}7\textquotesingle{})
\item 
\#define \mbox{\hyperlink{platformcommondefines_8h_a96d182dc172ba22ccac394fa56d1b318}{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P010}}
\item 
\#define \mbox{\hyperlink{platformcommondefines_8h_aa472bb45b57d6ef99a501e6dd9b805e9}{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P012}}
\item 
\#define \mbox{\hyperlink{platformcommondefines_8h_a2354a6ff35b57af305afc195bb482fbf}{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P016}}
\item 
\#define \mbox{\hyperlink{platformcommondefines_8h_ab9ee399da78ddd481addfc09f0ec6f55}{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+X\+R\+G\+B161616}}
\item 
\#define \mbox{\hyperlink{platformcommondefines_8h_a38eebe12b43aca1b42d69fa05166892b}{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+X\+B\+G\+R161616}}
\item 
\#define \mbox{\hyperlink{platformcommondefines_8h_a55010dd9f045ede43b1c4fa3d249b1eb}{H\+W\+C\+\_\+\+U\+N\+U\+S\+ED}}(x)~((void)\&(x))
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{structFBKey}{F\+B\+Key}} \mbox{\hyperlink{platformcommondefines_8h_a4297a5b87357de080a29f1e4f5c846f1}{F\+B\+Key}}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{platformcommondefines_8h_a62b1f06ace50944e0e02eb4b5c221dd2}{hash\+\_\+combine\+\_\+hwc}} (size\+\_\+t \&seed, size\+\_\+t value)
\item 
int \mbox{\hyperlink{platformcommondefines_8h_a5050e57370d5385378dd668cfef1e3d7}{Create\+Frame\+Buffer}} (const uint32\+\_\+t \&iwidth, const uint32\+\_\+t \&iheight, const uint64\+\_\+t \&modifier, const uint32\+\_\+t \&iframe\+\_\+buffer\+\_\+format, const uint32\+\_\+t \&num\+\_\+planes, const uint32\+\_\+t(\&igem\+\_\+handles)\mbox{[}4\mbox{]}, const uint32\+\_\+t(\&ipitches)\mbox{[}4\mbox{]}, const uint32\+\_\+t(\&ioffsets)\mbox{[}4\mbox{]}, uint32\+\_\+t gpu\+\_\+fd, uint32\+\_\+t $\ast$fb\+\_\+id)
\item 
int \mbox{\hyperlink{platformcommondefines_8h_ad633af7e3020e4d9004f19fac18c6296}{Release\+Frame\+Buffer}} (const \mbox{\hyperlink{structFBKey}{F\+B\+Key}} \&key, uint32\+\_\+t fd, uint32\+\_\+t gpu\+\_\+fd)
\item 
void $\ast$ \mbox{\hyperlink{platformcommondefines_8h_a776db37da150468eb39fc6fad0d7c9c1}{Get\+V\+A\+Display}} (uint32\+\_\+t gpu\+\_\+fd)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{platformcommondefines_8h_ad7f00a345dab08d589d532e519991fc3}\label{platformcommondefines_8h_ad7f00a345dab08d589d532e519991fc3}} 
\index{platformcommondefines.\+h@{platformcommondefines.\+h}!D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+N\+O\+NE@{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+N\+O\+NE}}
\index{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+N\+O\+NE@{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+N\+O\+NE}!platformcommondefines.\+h@{platformcommondefines.\+h}}
\subsubsection{\texorpdfstring{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+N\+O\+NE}{DRM\_FORMAT\_NONE}}
{\footnotesize\ttfamily \#define D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+N\+O\+NE~\mbox{\hyperlink{alios_2platformdefines_8h_aa22aaae0f0619113f80ec577f4cf7944}{fourcc\+\_\+code}}(\textquotesingle{}0\textquotesingle{}, \textquotesingle{}0\textquotesingle{}, \textquotesingle{}0\textquotesingle{}, \textquotesingle{}0\textquotesingle{})}



Definition at line 31 of file platformcommondefines.\+h.

\mbox{\Hypertarget{platformcommondefines_8h_acc3833d3c4296fe78db4ba117d1eb904}\label{platformcommondefines_8h_acc3833d3c4296fe78db4ba117d1eb904}} 
\index{platformcommondefines.\+h@{platformcommondefines.\+h}!D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+N\+V12\+\_\+\+Y\+\_\+\+T\+I\+L\+E\+D\+\_\+\+I\+N\+T\+EL@{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+N\+V12\+\_\+\+Y\+\_\+\+T\+I\+L\+E\+D\+\_\+\+I\+N\+T\+EL}}
\index{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+N\+V12\+\_\+\+Y\+\_\+\+T\+I\+L\+E\+D\+\_\+\+I\+N\+T\+EL@{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+N\+V12\+\_\+\+Y\+\_\+\+T\+I\+L\+E\+D\+\_\+\+I\+N\+T\+EL}!platformcommondefines.\+h@{platformcommondefines.\+h}}
\subsubsection{\texorpdfstring{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+N\+V12\+\_\+\+Y\+\_\+\+T\+I\+L\+E\+D\+\_\+\+I\+N\+T\+EL}{DRM\_FORMAT\_NV12\_Y\_TILED\_INTEL}}
{\footnotesize\ttfamily \#define D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+N\+V12\+\_\+\+Y\+\_\+\+T\+I\+L\+E\+D\+\_\+\+I\+N\+T\+EL~\mbox{\hyperlink{alios_2platformdefines_8h_aa22aaae0f0619113f80ec577f4cf7944}{fourcc\+\_\+code}}(\textquotesingle{}9\textquotesingle{}, \textquotesingle{}9\textquotesingle{}, \textquotesingle{}9\textquotesingle{}, \textquotesingle{}6\textquotesingle{})}



Definition at line 33 of file platformcommondefines.\+h.

\mbox{\Hypertarget{platformcommondefines_8h_a96d182dc172ba22ccac394fa56d1b318}\label{platformcommondefines_8h_a96d182dc172ba22ccac394fa56d1b318}} 
\index{platformcommondefines.\+h@{platformcommondefines.\+h}!D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P010@{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P010}}
\index{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P010@{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P010}!platformcommondefines.\+h@{platformcommondefines.\+h}}
\subsubsection{\texorpdfstring{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P010}{DRM\_FORMAT\_P010}}
{\footnotesize\ttfamily \#define D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P010}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{alios_2platformdefines_8h_aa22aaae0f0619113f80ec577f4cf7944}{fourcc\_code}}(\textcolor{charliteral}{'P'}, \textcolor{charliteral}{'0'}, \textcolor{charliteral}{'1'}, \(\backslash\)}
\DoxyCodeLine{              \textcolor{charliteral}{'0'}) \textcolor{comment}{/* 2x2 subsampled Cr:Cb plane 10 bits per channel */}}
\end{DoxyCode}


Definition at line 42 of file platformcommondefines.\+h.

\mbox{\Hypertarget{platformcommondefines_8h_aa472bb45b57d6ef99a501e6dd9b805e9}\label{platformcommondefines_8h_aa472bb45b57d6ef99a501e6dd9b805e9}} 
\index{platformcommondefines.\+h@{platformcommondefines.\+h}!D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P012@{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P012}}
\index{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P012@{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P012}!platformcommondefines.\+h@{platformcommondefines.\+h}}
\subsubsection{\texorpdfstring{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P012}{DRM\_FORMAT\_P012}}
{\footnotesize\ttfamily \#define D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P012}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{alios_2platformdefines_8h_aa22aaae0f0619113f80ec577f4cf7944}{fourcc\_code}}(\textcolor{charliteral}{'P'}, \textcolor{charliteral}{'0'}, \textcolor{charliteral}{'1'}, \(\backslash\)}
\DoxyCodeLine{              \textcolor{charliteral}{'2'}) \textcolor{comment}{/* 2x2 subsampled Cr:Cb plane 12 bits per channel */}}
\end{DoxyCode}


Definition at line 51 of file platformcommondefines.\+h.

\mbox{\Hypertarget{platformcommondefines_8h_a2354a6ff35b57af305afc195bb482fbf}\label{platformcommondefines_8h_a2354a6ff35b57af305afc195bb482fbf}} 
\index{platformcommondefines.\+h@{platformcommondefines.\+h}!D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P016@{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P016}}
\index{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P016@{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P016}!platformcommondefines.\+h@{platformcommondefines.\+h}}
\subsubsection{\texorpdfstring{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P016}{DRM\_FORMAT\_P016}}
{\footnotesize\ttfamily \#define D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+P016}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{alios_2platformdefines_8h_aa22aaae0f0619113f80ec577f4cf7944}{fourcc\_code}}(\textcolor{charliteral}{'P'}, \textcolor{charliteral}{'0'}, \textcolor{charliteral}{'1'}, \(\backslash\)}
\DoxyCodeLine{              \textcolor{charliteral}{'6'}) \textcolor{comment}{/* 2x2 subsampled Cr:Cb plane 16 bits per channel */}}
\end{DoxyCode}


Definition at line 60 of file platformcommondefines.\+h.

\mbox{\Hypertarget{platformcommondefines_8h_a38eebe12b43aca1b42d69fa05166892b}\label{platformcommondefines_8h_a38eebe12b43aca1b42d69fa05166892b}} 
\index{platformcommondefines.\+h@{platformcommondefines.\+h}!D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+X\+B\+G\+R161616@{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+X\+B\+G\+R161616}}
\index{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+X\+B\+G\+R161616@{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+X\+B\+G\+R161616}!platformcommondefines.\+h@{platformcommondefines.\+h}}
\subsubsection{\texorpdfstring{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+X\+B\+G\+R161616}{DRM\_FORMAT\_XBGR161616}}
{\footnotesize\ttfamily \#define D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+X\+B\+G\+R161616}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{alios_2platformdefines_8h_aa22aaae0f0619113f80ec577f4cf7944}{fourcc\_code}}(\textcolor{charliteral}{'X'}, \textcolor{charliteral}{'B'}, \textcolor{charliteral}{'4'}, \textcolor{charliteral}{'8'}) \textcolor{comment}{/* [63:0] x:B:G:R 16:16:16:16 little endian \(\backslash\)}}
\DoxyCodeLine{\textcolor{comment}{                                     */}}
\end{DoxyCode}


Definition at line 68 of file platformcommondefines.\+h.

\mbox{\Hypertarget{platformcommondefines_8h_ab9ee399da78ddd481addfc09f0ec6f55}\label{platformcommondefines_8h_ab9ee399da78ddd481addfc09f0ec6f55}} 
\index{platformcommondefines.\+h@{platformcommondefines.\+h}!D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+X\+R\+G\+B161616@{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+X\+R\+G\+B161616}}
\index{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+X\+R\+G\+B161616@{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+X\+R\+G\+B161616}!platformcommondefines.\+h@{platformcommondefines.\+h}}
\subsubsection{\texorpdfstring{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+X\+R\+G\+B161616}{DRM\_FORMAT\_XRGB161616}}
{\footnotesize\ttfamily \#define D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+X\+R\+G\+B161616}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{alios_2platformdefines_8h_aa22aaae0f0619113f80ec577f4cf7944}{fourcc\_code}}(\textcolor{charliteral}{'X'}, \textcolor{charliteral}{'R'}, \textcolor{charliteral}{'4'}, \textcolor{charliteral}{'8'}) \textcolor{comment}{/* [63:0] x:R:G:B 16:16:16:16 little endian \(\backslash\)}}
\DoxyCodeLine{\textcolor{comment}{                                     */}}
\end{DoxyCode}


Definition at line 65 of file platformcommondefines.\+h.

\mbox{\Hypertarget{platformcommondefines_8h_ab99766273330adb0e9694d2c0b873713}\label{platformcommondefines_8h_ab99766273330adb0e9694d2c0b873713}} 
\index{platformcommondefines.\+h@{platformcommondefines.\+h}!D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+Y\+V\+U420\+\_\+\+A\+N\+D\+R\+O\+ID@{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+Y\+V\+U420\+\_\+\+A\+N\+D\+R\+O\+ID}}
\index{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+Y\+V\+U420\+\_\+\+A\+N\+D\+R\+O\+ID@{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+Y\+V\+U420\+\_\+\+A\+N\+D\+R\+O\+ID}!platformcommondefines.\+h@{platformcommondefines.\+h}}
\subsubsection{\texorpdfstring{D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+Y\+V\+U420\+\_\+\+A\+N\+D\+R\+O\+ID}{DRM\_FORMAT\_YVU420\_ANDROID}}
{\footnotesize\ttfamily \#define D\+R\+M\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+Y\+V\+U420\+\_\+\+A\+N\+D\+R\+O\+ID~\mbox{\hyperlink{alios_2platformdefines_8h_aa22aaae0f0619113f80ec577f4cf7944}{fourcc\+\_\+code}}(\textquotesingle{}9\textquotesingle{}, \textquotesingle{}9\textquotesingle{}, \textquotesingle{}9\textquotesingle{}, \textquotesingle{}7\textquotesingle{})}



Definition at line 35 of file platformcommondefines.\+h.

\mbox{\Hypertarget{platformcommondefines_8h_a55010dd9f045ede43b1c4fa3d249b1eb}\label{platformcommondefines_8h_a55010dd9f045ede43b1c4fa3d249b1eb}} 
\index{platformcommondefines.\+h@{platformcommondefines.\+h}!H\+W\+C\+\_\+\+U\+N\+U\+S\+ED@{H\+W\+C\+\_\+\+U\+N\+U\+S\+ED}}
\index{H\+W\+C\+\_\+\+U\+N\+U\+S\+ED@{H\+W\+C\+\_\+\+U\+N\+U\+S\+ED}!platformcommondefines.\+h@{platformcommondefines.\+h}}
\subsubsection{\texorpdfstring{H\+W\+C\+\_\+\+U\+N\+U\+S\+ED}{HWC\_UNUSED}}
{\footnotesize\ttfamily \#define H\+W\+C\+\_\+\+U\+N\+U\+S\+ED(\begin{DoxyParamCaption}\item[{}]{x }\end{DoxyParamCaption})~((void)\&(x))}



Definition at line 72 of file platformcommondefines.\+h.



\subsection{Typedef Documentation}
\mbox{\Hypertarget{platformcommondefines_8h_a4297a5b87357de080a29f1e4f5c846f1}\label{platformcommondefines_8h_a4297a5b87357de080a29f1e4f5c846f1}} 
\index{platformcommondefines.\+h@{platformcommondefines.\+h}!F\+B\+Key@{F\+B\+Key}}
\index{F\+B\+Key@{F\+B\+Key}!platformcommondefines.\+h@{platformcommondefines.\+h}}
\subsubsection{\texorpdfstring{F\+B\+Key}{FBKey}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structFBKey}{F\+B\+Key}}  \mbox{\hyperlink{structFBKey}{F\+B\+Key}}}



\subsection{Function Documentation}
\mbox{\Hypertarget{platformcommondefines_8h_a5050e57370d5385378dd668cfef1e3d7}\label{platformcommondefines_8h_a5050e57370d5385378dd668cfef1e3d7}} 
\index{platformcommondefines.\+h@{platformcommondefines.\+h}!Create\+Frame\+Buffer@{Create\+Frame\+Buffer}}
\index{Create\+Frame\+Buffer@{Create\+Frame\+Buffer}!platformcommondefines.\+h@{platformcommondefines.\+h}}
\subsubsection{\texorpdfstring{Create\+Frame\+Buffer()}{CreateFrameBuffer()}}
{\footnotesize\ttfamily int Create\+Frame\+Buffer (\begin{DoxyParamCaption}\item[{const uint32\+\_\+t \&}]{iwidth,  }\item[{const uint32\+\_\+t \&}]{iheight,  }\item[{const uint64\+\_\+t \&}]{modifier,  }\item[{const uint32\+\_\+t \&}]{iframe\+\_\+buffer\+\_\+format,  }\item[{const uint32\+\_\+t \&}]{num\+\_\+planes,  }\item[{const uint32\+\_\+t(\&)}]{igem\+\_\+handles\mbox{[}4\mbox{]},  }\item[{const uint32\+\_\+t(\&)}]{ipitches\mbox{[}4\mbox{]},  }\item[{const uint32\+\_\+t(\&)}]{ioffsets\mbox{[}4\mbox{]},  }\item[{uint32\+\_\+t}]{gpu\+\_\+fd,  }\item[{uint32\+\_\+t $\ast$}]{fb\+\_\+id }\end{DoxyParamCaption})}



Definition at line 60 of file platformcommondrmdefines.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{64                                                                      \{}
\DoxyCodeLine{65   \textcolor{keywordtype}{int} ret = 0;}
\DoxyCodeLine{66   uint32\_t *m\_igem\_handles = (uint32\_t *)igem\_handles;}
\DoxyCodeLine{67   uint32\_t *m\_ipitches = (uint32\_t *)ipitches;}
\DoxyCodeLine{68   uint32\_t *m\_ioffsets = (uint32\_t *)ioffsets;}
\DoxyCodeLine{69   \textcolor{keywordflow}{if} (modifier > 0) \{}
\DoxyCodeLine{70     uint64\_t modifiers[4];}
\DoxyCodeLine{71     \textcolor{keywordflow}{for} (uint32\_t i = 0; i < num\_planes; i++) \{}
\DoxyCodeLine{72       modifiers[i] = modifier;}
\DoxyCodeLine{73     \}}
\DoxyCodeLine{74 }
\DoxyCodeLine{75     \textcolor{keywordflow}{for} (uint32\_t i = num\_planes; i < 4; i++) \{}
\DoxyCodeLine{76       modifiers[i] = DRM\_FORMAT\_MOD\_NONE;}
\DoxyCodeLine{77     \}}
\DoxyCodeLine{78 }
\DoxyCodeLine{79     ret = drmModeAddFB2WithModifiers(}
\DoxyCodeLine{80         gpu\_fd, iwidth, iheight, iframe\_buffer\_format, m\_igem\_handles,}
\DoxyCodeLine{81         m\_ipitches, m\_ioffsets, modifiers, fb\_id, DRM\_MODE\_FB\_MODIFIERS);}
\DoxyCodeLine{82   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{83     ret = drmModeAddFB2(gpu\_fd, iwidth, iheight, iframe\_buffer\_format,}
\DoxyCodeLine{84                         m\_igem\_handles, m\_ipitches, m\_ioffsets, fb\_id, 0);}
\DoxyCodeLine{85   \}}
\DoxyCodeLine{86 }
\DoxyCodeLine{87   \textcolor{keywordflow}{if} (ret) \{}
\DoxyCodeLine{88     \mbox{\hyperlink{alios_2platformdefines_8h_a226d6c99e4bcfca193c095e085e9097d}{ETRACE}}(\textcolor{stringliteral}{"\%s error (\%dx\%d, \%c\%c\%c\%c, handle \%d pitch \%d) (\%s)"},}
\DoxyCodeLine{89            (modifier == 0) ? \textcolor{stringliteral}{"drmModeAddFB2"} : \textcolor{stringliteral}{"drmModeAddFB2WithModifiers"},}
\DoxyCodeLine{90            iwidth, iheight, iframe\_buffer\_format, iframe\_buffer\_format >> 8,}
\DoxyCodeLine{91            iframe\_buffer\_format >> 16, iframe\_buffer\_format >> 24,}
\DoxyCodeLine{92            m\_igem\_handles[0], m\_ipitches[0], strerror(-ret));}
\DoxyCodeLine{93     *fb\_id = 0;}
\DoxyCodeLine{94   \}}
\DoxyCodeLine{95 }
\DoxyCodeLine{96   \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{97 \}}
\end{DoxyCode}
\mbox{\Hypertarget{platformcommondefines_8h_a776db37da150468eb39fc6fad0d7c9c1}\label{platformcommondefines_8h_a776db37da150468eb39fc6fad0d7c9c1}} 
\index{platformcommondefines.\+h@{platformcommondefines.\+h}!Get\+V\+A\+Display@{Get\+V\+A\+Display}}
\index{Get\+V\+A\+Display@{Get\+V\+A\+Display}!platformcommondefines.\+h@{platformcommondefines.\+h}}
\subsubsection{\texorpdfstring{Get\+V\+A\+Display()}{GetVADisplay()}}
{\footnotesize\ttfamily void$\ast$ Get\+V\+A\+Display (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{gpu\+\_\+fd }\end{DoxyParamCaption})}



Definition at line 3 of file platformdefines.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{3                                     \{}
\DoxyCodeLine{4   \textcolor{keywordflow}{return} \mbox{\hyperlink{alios_2platformdefines_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{5 \}}
\end{DoxyCode}
\mbox{\Hypertarget{platformcommondefines_8h_a62b1f06ace50944e0e02eb4b5c221dd2}\label{platformcommondefines_8h_a62b1f06ace50944e0e02eb4b5c221dd2}} 
\index{platformcommondefines.\+h@{platformcommondefines.\+h}!hash\+\_\+combine\+\_\+hwc@{hash\+\_\+combine\+\_\+hwc}}
\index{hash\+\_\+combine\+\_\+hwc@{hash\+\_\+combine\+\_\+hwc}!platformcommondefines.\+h@{platformcommondefines.\+h}}
\subsubsection{\texorpdfstring{hash\+\_\+combine\+\_\+hwc()}{hash\_combine\_hwc()}}
{\footnotesize\ttfamily void hash\+\_\+combine\+\_\+hwc (\begin{DoxyParamCaption}\item[{size\+\_\+t \&}]{seed,  }\item[{size\+\_\+t}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 81 of file platformcommondefines.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{81                                                          \{}
\DoxyCodeLine{82   seed \string^= value + 0x9e3779b9 + (seed << 6) + (seed >> 2);}
\DoxyCodeLine{83 \}}
\end{DoxyCode}
\mbox{\Hypertarget{platformcommondefines_8h_ad633af7e3020e4d9004f19fac18c6296}\label{platformcommondefines_8h_ad633af7e3020e4d9004f19fac18c6296}} 
\index{platformcommondefines.\+h@{platformcommondefines.\+h}!Release\+Frame\+Buffer@{Release\+Frame\+Buffer}}
\index{Release\+Frame\+Buffer@{Release\+Frame\+Buffer}!platformcommondefines.\+h@{platformcommondefines.\+h}}
\subsubsection{\texorpdfstring{Release\+Frame\+Buffer()}{ReleaseFrameBuffer()}}
{\footnotesize\ttfamily int Release\+Frame\+Buffer (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structFBKey}{F\+B\+Key}} \&}]{key,  }\item[{uint32\+\_\+t}]{fd,  }\item[{uint32\+\_\+t}]{gpu\+\_\+fd }\end{DoxyParamCaption})}



Definition at line 23 of file platformcommondrmdefines.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{23                                                                        \{}
\DoxyCodeLine{24   \textcolor{keywordtype}{int} ret = fd > 0 ? drmModeRmFB(gpu\_fd, fd) : 0;}
\DoxyCodeLine{25   \textcolor{keywordflow}{if} (ret) \{}
\DoxyCodeLine{26     \mbox{\hyperlink{alios_2platformdefines_8h_a226d6c99e4bcfca193c095e085e9097d}{ETRACE}}(\textcolor{stringliteral}{"Failed to Remove FD ErrorCode: \%d FD: \%d \(\backslash\)n"}, ret, fd);}
\DoxyCodeLine{27   \}}
\DoxyCodeLine{28 }
\DoxyCodeLine{29 \textcolor{preprocessor}{\#ifdef HANDLE\_OWNED\_BY\_BUFFER\_MANAGER}}
\DoxyCodeLine{30   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{32 }
\DoxyCodeLine{33   uint32\_t total\_planes = key.\mbox{\hyperlink{structFBKey_a3d3bda0ee29a63ca3f9c676d23a472e3}{num\_planes\_}};}
\DoxyCodeLine{34   \textcolor{keyword}{struct }drm\_gem\_close gem\_close;}
\DoxyCodeLine{35   \textcolor{keywordtype}{int} last\_gem\_handle = -1;}
\DoxyCodeLine{36 }
\DoxyCodeLine{37   \textcolor{keywordflow}{for} (uint32\_t plane = 0; plane < total\_planes; plane++) \{}
\DoxyCodeLine{38     uint32\_t current\_gem\_handle = key.\mbox{\hyperlink{structFBKey_af9c338051a21174ecb54479cf78116c8}{gem\_handles\_}}[plane];}
\DoxyCodeLine{39     \textcolor{keywordflow}{if} ((last\_gem\_handle != -1) \&\&}
\DoxyCodeLine{40         (current\_gem\_handle == static\_cast<uint32\_t>(last\_gem\_handle))) \{}
\DoxyCodeLine{41       \textcolor{keywordflow}{break};}
\DoxyCodeLine{42     \}}
\DoxyCodeLine{43 }
\DoxyCodeLine{44     memset(\&gem\_close, 0, \textcolor{keyword}{sizeof}(gem\_close));}
\DoxyCodeLine{45     last\_gem\_handle = current\_gem\_handle;}
\DoxyCodeLine{46     gem\_close.handle = current\_gem\_handle;}
\DoxyCodeLine{47 }
\DoxyCodeLine{48     ret = drmIoctl(gpu\_fd, DRM\_IOCTL\_GEM\_CLOSE, \&gem\_close);}
\DoxyCodeLine{49     \textcolor{keywordflow}{if} (ret) \{}
\DoxyCodeLine{50       \mbox{\hyperlink{alios_2platformdefines_8h_a226d6c99e4bcfca193c095e085e9097d}{ETRACE}}(}
\DoxyCodeLine{51           \textcolor{stringliteral}{"Failed to close gem handle ErrorCode: \%d PrimeFD: \%d "}}
\DoxyCodeLine{52           \textcolor{stringliteral}{"GemHandle: \%d  \(\backslash\)n"},}
\DoxyCodeLine{53           ret, fd, current\_gem\_handle);}
\DoxyCodeLine{54     \}}
\DoxyCodeLine{55   \}}
\DoxyCodeLine{56 }
\DoxyCodeLine{57   \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{58 \}}
\end{DoxyCode}
