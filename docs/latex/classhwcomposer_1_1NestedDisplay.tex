\hypertarget{classhwcomposer_1_1NestedDisplay}{}\section{hwcomposer\+:\+:Nested\+Display Class Reference}
\label{classhwcomposer_1_1NestedDisplay}\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}


{\ttfamily \#include $<$nesteddisplay.\+h$>$}

Inheritance diagram for hwcomposer\+:\+:Nested\+Display\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classhwcomposer_1_1NestedDisplay}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_af672e7013e7a0c609a434ff995e41ead}{Nested\+Display}} (uint32\+\_\+t gpu\+\_\+fd, \mbox{\hyperlink{classhwcomposer_1_1NativeBufferHandler}{Native\+Buffer\+Handler}} $\ast$buffer\+\_\+handler)
\item 
\mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_a87f5d333cf763aeeffcff35531c34428}{$\sim$\+Nested\+Display}} () override
\item 
void \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_a39b326bbbe10454953815bb3e339c821}{Init\+Nested\+Display}} (uint32\+\_\+t width, uint32\+\_\+t height, uint32\+\_\+t port) override
\item 
bool \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_a40b99528a66752bbdf03f253476e5255}{Initialize}} (\mbox{\hyperlink{classhwcomposer_1_1NativeBufferHandler}{Native\+Buffer\+Handler}} $\ast$buffer\+\_\+handler, \mbox{\hyperlink{classhwcomposer_1_1FrameBufferManager}{Frame\+Buffer\+Manager}} $\ast$) override
\item 
Display\+Type \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_a5e0cd87bc15e94b2997fcfbb37060602}{Type}} () const override
\item 
uint32\+\_\+t \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_ab3c886e199ed0eb383496eb3c3b9da9c}{Width}} () const override
\item 
uint32\+\_\+t \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_ad83400a54d34d803fd427d9dc17ca95f}{Height}} () const override
\item 
uint32\+\_\+t \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_a7f08b439ab7e67ba6344471b9efe7d62}{Power\+Mode}} () const override
\item 
int \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_a71d26edcadd23a93362ca5643dc1f6cf}{Get\+Display\+Pipe}} () override
\item 
bool \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_abfb4cca89f1ae116a487f92a6d1143a8}{Set\+Active\+Config}} (uint32\+\_\+t config) override
\item 
bool \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_ac29629de6ce1e74a1086e8de7239b45a}{Get\+Active\+Config}} (uint32\+\_\+t $\ast$config) override
\item 
bool \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_a4cab919931af541339c97f3b2d8b032d}{Set\+Power\+Mode}} (uint32\+\_\+t power\+\_\+mode) override
\item 
bool \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_af7983c8f6bafff1ab2077f7b3d38a0de}{Present}} (std\+::vector$<$ \mbox{\hyperlink{structhwcomposer_1_1HwcLayer}{Hwc\+Layer}} $\ast$$>$ \&source\+\_\+layers, int32\+\_\+t $\ast$retire\+\_\+fence, \mbox{\hyperlink{classhwcomposer_1_1PixelUploaderCallback}{Pixel\+Uploader\+Callback}} $\ast$call\+\_\+back=\mbox{\hyperlink{alios_2platformdefines_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{N\+U\+LL}}, bool handle\+\_\+constraints=false) override
\item 
int \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_a09a16cff82bc26e862eaa2e8bb9cbe67}{Register\+Vsync\+Callback}} (std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classhwcomposer_1_1VsyncCallback}{Vsync\+Callback}} $>$ callback, uint32\+\_\+t display\+\_\+id) override
\item 
void \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_a821c1f2bf3622c4889e8c84f2a6935d3}{Register\+Refresh\+Callback}} (std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classhwcomposer_1_1RefreshCallback}{Refresh\+Callback}} $>$ callback, uint32\+\_\+t display\+\_\+id) override
\item 
void \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_a0e9948e4763ef5abcdfcd12e42ef7267}{Register\+Hot\+Plug\+Callback}} (std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classhwcomposer_1_1HotPlugCallback}{Hot\+Plug\+Callback}} $>$ callback, uint32\+\_\+t display\+\_\+id) override
\item 
void \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_ab6b0f8f36573b7c347805131734f0b47}{V\+Sync\+Control}} (bool enabled) override
\item 
bool \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_a5e44d76d34b86354540abbee20ab046d}{Check\+Plane\+Format}} (uint32\+\_\+t format) override
\item 
void \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_ad43575ee1695666a74cf5cb44d64f98e}{Set\+Gamma}} (float red, float green, float blue) override
\item 
void \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_aa3509b6c817d6ff091e3cf5000d64bc3}{Set\+Contrast}} (uint32\+\_\+t red, uint32\+\_\+t green, uint32\+\_\+t blue) override
\item 
void \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_ada28a82438946b62966b8e3fb4ad3e9d}{Set\+Brightness}} (uint32\+\_\+t red, uint32\+\_\+t green, uint32\+\_\+t blue) override
\item 
void \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_a9567352fc212a0e9a4530183a9ec96ea}{Set\+Explicit\+Sync\+Support}} (bool disable\+\_\+explicit\+\_\+sync) override
\item 
bool \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_a3d55a6460b227f9f9e967d0f414d0159}{Is\+Connected}} () const override
\item 
void \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_a0eb08cdb0c39587a72021ff945d33b72}{Update\+Scaling\+Ratio}} (uint32\+\_\+t primary\+\_\+width, uint32\+\_\+t primary\+\_\+height, uint32\+\_\+t display\+\_\+width, uint32\+\_\+t display\+\_\+height) override
\item 
void \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_a5dda0f532650e43eec782e81074563b3}{Clone\+Display}} (\mbox{\hyperlink{classhwcomposer_1_1NativeDisplay}{Native\+Display}} $\ast$source\+\_\+display) override
\item 
bool \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_ae78bf526c8b23585edffc5e1d306647d}{Present\+Clone}} (\mbox{\hyperlink{classhwcomposer_1_1NativeDisplay}{Native\+Display}} $\ast$) override
\item 
bool \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_aa63c8ca48c295a453afe8d9bec3d8561}{Get\+Display\+Attribute}} (uint32\+\_\+t, H\+W\+C\+Display\+Attribute attribute, int32\+\_\+t $\ast$value) override
\item 
bool \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_a211f5d6783771f5bd7ffcf68566262ed}{Get\+Display\+Configs}} (uint32\+\_\+t $\ast$num\+\_\+configs, uint32\+\_\+t $\ast$configs) override
\item 
bool \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_a0a1ca305ffa0ace0c2bd5ff601db9b18}{Get\+Display\+Name}} (uint32\+\_\+t $\ast$size, char $\ast$name) override
\item 
bool \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_a4edac628f8ce493c9417cf691807b3a6}{Enable\+V\+Sync}} () const
\item 
void \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_af8b1fdc35bf85d4fbb8aab569c20d7ef}{V\+Sync\+Update}} (int64\+\_\+t timestamp)
\item 
void \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_aec45c2f726c5a38a918a806b524530b1}{Refresh\+Update}} ()
\item 
void \mbox{\hyperlink{classhwcomposer_1_1NestedDisplay_a1da3837cf3cb8fd5f3f2e9bdd7b339ff}{Hot\+Plug\+Update}} (bool connected)
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}


Definition at line 98 of file nesteddisplay.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_af672e7013e7a0c609a434ff995e41ead}\label{classhwcomposer_1_1NestedDisplay_af672e7013e7a0c609a434ff995e41ead}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Nested\+Display@{Nested\+Display}}
\index{Nested\+Display@{Nested\+Display}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Nested\+Display()}{NestedDisplay()}}
{\footnotesize\ttfamily hwcomposer\+::\+Nested\+Display\+::\+Nested\+Display (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{gpu\+\_\+fd,  }\item[{\mbox{\hyperlink{classhwcomposer_1_1NativeBufferHandler}{Native\+Buffer\+Handler}} $\ast$}]{buffer\+\_\+handler }\end{DoxyParamCaption})}



Definition at line 72 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{73                                                                   \{}
\DoxyCodeLine{74 \textcolor{preprocessor}{\#ifdef NESTED\_DISPLAY\_SUPPORT}}
\DoxyCodeLine{75   \textcolor{keywordtype}{int} ret;}
\DoxyCodeLine{76   \textcolor{keyword}{struct }ioctl\_hyper\_dmabuf\_tx\_ch\_setup msg;}
\DoxyCodeLine{77   memset(\&msg, 0, \textcolor{keyword}{sizeof}(ioctl\_hyper\_dmabuf\_tx\_ch\_setup));}
\DoxyCodeLine{78 }
\DoxyCodeLine{79   resource\_manager\_.reset(\textcolor{keyword}{new} ResourceManager(buffer\_handler));}
\DoxyCodeLine{80   \textcolor{keywordflow}{if} (!resource\_manager\_) \{}
\DoxyCodeLine{81     \mbox{\hyperlink{alios_2platformdefines_8h_a226d6c99e4bcfca193c095e085e9097d}{ETRACE}}(\textcolor{stringliteral}{"Failed to construct hwc layer buffer manager"});}
\DoxyCodeLine{82   \}}
\DoxyCodeLine{83   compositor\_.Init(resource\_manager\_.get(), gpu\_fd, fb\_manager\_);}
\DoxyCodeLine{84 }
\DoxyCodeLine{85   mHyperDmaBuf\_Fd = open(HYPER\_DMABUF\_PATH, O\_RDWR);}
\DoxyCodeLine{86   \textcolor{keywordflow}{if} (mHyperDmaBuf\_Fd < 0)}
\DoxyCodeLine{87     \mbox{\hyperlink{alios_2platformdefines_8h_a226d6c99e4bcfca193c095e085e9097d}{ETRACE}}(\textcolor{stringliteral}{"Hyper DmaBuf: open hyper dmabuf device node \%s failed because \%s"},}
\DoxyCodeLine{88            HYPER\_DMABUF\_PATH, strerror(errno));}
\DoxyCodeLine{89   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{90     \mbox{\hyperlink{alios_2platformdefines_8h_a2407a03fb42f0c0d39cdf7fe4850ec87}{ITRACE}}(\textcolor{stringliteral}{"Hyper DmaBuf: open hyper dmabuf device node \%s successfully!"},}
\DoxyCodeLine{91            HYPER\_DMABUF\_PATH);}
\DoxyCodeLine{92     \textcolor{comment}{/* TODO: add config option to specify which domains should be used, for now}}
\DoxyCodeLine{93 \textcolor{comment}{     * we share always with dom0 */}}
\DoxyCodeLine{94     msg.remote\_domain = 0;}
\DoxyCodeLine{95     ret = ioctl(mHyperDmaBuf\_Fd, IOCTL\_HYPER\_DMABUF\_TX\_CH\_SETUP, \&msg);}
\DoxyCodeLine{96     \textcolor{keywordflow}{if} (ret) \{}
\DoxyCodeLine{97       \mbox{\hyperlink{alios_2platformdefines_8h_a226d6c99e4bcfca193c095e085e9097d}{ETRACE}}(}
\DoxyCodeLine{98           \textcolor{stringliteral}{"Hyper DmaBuf: IOCTL\_HYPER\_DMABUF\_TX\_CH\_SETUP failed with error \%d\(\backslash\)n"},}
\DoxyCodeLine{99           ret);}
\DoxyCodeLine{100       close(mHyperDmaBuf\_Fd);}
\DoxyCodeLine{101       mHyperDmaBuf\_Fd = -1;}
\DoxyCodeLine{102     \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{103       \mbox{\hyperlink{alios_2platformdefines_8h_a2407a03fb42f0c0d39cdf7fe4850ec87}{ITRACE}}(\textcolor{stringliteral}{"Hyper DmaBuf: IOCTL\_HYPER\_DMABUF\_TX\_CH\_SETUP Done!\(\backslash\)n"});}
\DoxyCodeLine{104   \}}
\DoxyCodeLine{105 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{106   \mbox{\hyperlink{platformcommondefines_8h_a55010dd9f045ede43b1c4fa3d249b1eb}{HWC\_UNUSED}}(gpu\_fd);}
\DoxyCodeLine{107   \mbox{\hyperlink{platformcommondefines_8h_a55010dd9f045ede43b1c4fa3d249b1eb}{HWC\_UNUSED}}(buffer\_handler);}
\DoxyCodeLine{108 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{109 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_a87f5d333cf763aeeffcff35531c34428}\label{classhwcomposer_1_1NestedDisplay_a87f5d333cf763aeeffcff35531c34428}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!````~Nested\+Display@{$\sim$\+Nested\+Display}}
\index{````~Nested\+Display@{$\sim$\+Nested\+Display}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{$\sim$\+Nested\+Display()}{~NestedDisplay()}}
{\footnotesize\ttfamily hwcomposer\+::\+Nested\+Display\+::$\sim$\+Nested\+Display (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}



Definition at line 111 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{111                               \{}
\DoxyCodeLine{112 \textcolor{preprocessor}{\#ifdef NESTED\_DISPLAY\_SUPPORT}}
\DoxyCodeLine{113   \textcolor{keywordflow}{if} (mHyperDmaBuf\_Fd > 0) \{}
\DoxyCodeLine{114     \textcolor{keyword}{auto} it = mHyperDmaExportedBuffers.begin();}
\DoxyCodeLine{115     \textcolor{keywordflow}{for} (; it != mHyperDmaExportedBuffers.end(); ++it) \{}
\DoxyCodeLine{116       \textcolor{keyword}{struct }ioctl\_hyper\_dmabuf\_unexport msg;}
\DoxyCodeLine{117       \textcolor{keywordtype}{int} ret;}
\DoxyCodeLine{118       msg.hid = it->second.hyper\_dmabuf\_id;}
\DoxyCodeLine{119       \textcolor{comment}{// Todo: hyper dmabuf free delay is fixed to 1s now!}}
\DoxyCodeLine{120       msg.delay\_ms = 1000;}
\DoxyCodeLine{121       ret = ioctl(mHyperDmaBuf\_Fd, IOCTL\_HYPER\_DMABUF\_UNEXPORT, \&msg);}
\DoxyCodeLine{122       \textcolor{keywordflow}{if} (ret) \{}
\DoxyCodeLine{123         \mbox{\hyperlink{alios_2platformdefines_8h_a226d6c99e4bcfca193c095e085e9097d}{ETRACE}}(}
\DoxyCodeLine{124             \textcolor{stringliteral}{"Hyper DmaBuf: IOCTL\_HYPER\_DMABUF\_UNEXPORT ioctl failed \%d "}}
\DoxyCodeLine{125             \textcolor{stringliteral}{"[0x\%x]\(\backslash\)n"},}
\DoxyCodeLine{126             ret, it->second.hyper\_dmabuf\_id.id);}
\DoxyCodeLine{127       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{128         \mbox{\hyperlink{alios_2platformdefines_8h_a2407a03fb42f0c0d39cdf7fe4850ec87}{ITRACE}}(\textcolor{stringliteral}{"Hyper DmaBuf: IOCTL\_HYPER\_DMABUF\_UNEXPORT ioctl Done [0x\%x]!\(\backslash\)n"},}
\DoxyCodeLine{129                it->second.hyper\_dmabuf\_id.id);}
\DoxyCodeLine{130         mHyperDmaExportedBuffers.erase(it);}
\DoxyCodeLine{131       \}}
\DoxyCodeLine{132     \}}
\DoxyCodeLine{133 }
\DoxyCodeLine{134     close(mHyperDmaBuf\_Fd);}
\DoxyCodeLine{135     mHyperDmaBuf\_Fd = -1;}
\DoxyCodeLine{136   \}}
\DoxyCodeLine{137 }
\DoxyCodeLine{138   \textcolor{keywordflow}{if} (mclient\_sock\_fd >= 0)}
\DoxyCodeLine{139     close(mclient\_sock\_fd);}
\DoxyCodeLine{140 }
\DoxyCodeLine{141   \textcolor{keywordflow}{if} (msock\_fd >= 0)}
\DoxyCodeLine{142     close(msock\_fd);}
\DoxyCodeLine{143 }
\DoxyCodeLine{144   resource\_manager\_->PurgeBuffer();}
\DoxyCodeLine{145   compositor\_.Reset();}
\DoxyCodeLine{146 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{147 \}}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_a5e44d76d34b86354540abbee20ab046d}\label{classhwcomposer_1_1NestedDisplay_a5e44d76d34b86354540abbee20ab046d}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Check\+Plane\+Format@{Check\+Plane\+Format}}
\index{Check\+Plane\+Format@{Check\+Plane\+Format}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Check\+Plane\+Format()}{CheckPlaneFormat()}}
{\footnotesize\ttfamily bool hwcomposer\+::\+Nested\+Display\+::\+Check\+Plane\+Format (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{format }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

A\+PI to check the format support on the device 
\begin{DoxyParams}{Parameters}
{\em format} & valid D\+RM formats found in drm\+\_\+fourcc.\+h. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_a4e856b5754054bdf77467e6663cb5b50}{hwcomposer\+::\+Native\+Display}}.



Definition at line 345 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{345                                                \{}
\DoxyCodeLine{346   \textcolor{comment}{// assuming that virtual display supports the format}}
\DoxyCodeLine{347   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{348 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_a5dda0f532650e43eec782e81074563b3}\label{classhwcomposer_1_1NestedDisplay_a5dda0f532650e43eec782e81074563b3}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Clone\+Display@{Clone\+Display}}
\index{Clone\+Display@{Clone\+Display}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Clone\+Display()}{CloneDisplay()}}
{\footnotesize\ttfamily void hwcomposer\+::\+Nested\+Display\+::\+Clone\+Display (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classhwcomposer_1_1NativeDisplay}{Native\+Display}} $\ast$}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

This display needs to clone source\+\_\+display. We cannot have a display in cloned mode and extended mode at same time or clone more than one source\+\_\+display at same time. 

Reimplemented from \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_ad244fa57c9c6380fb04bfd57da3cb28b}{hwcomposer\+::\+Native\+Display}}.



Definition at line 370 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{370                                                   \{}
\DoxyCodeLine{371 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_a4edac628f8ce493c9417cf691807b3a6}\label{classhwcomposer_1_1NestedDisplay_a4edac628f8ce493c9417cf691807b3a6}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Enable\+V\+Sync@{Enable\+V\+Sync}}
\index{Enable\+V\+Sync@{Enable\+V\+Sync}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Enable\+V\+Sync()}{EnableVSync()}}
{\footnotesize\ttfamily bool hwcomposer\+::\+Nested\+Display\+::\+Enable\+V\+Sync (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 167 of file nesteddisplay.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{167                            \{}
\DoxyCodeLine{168     \textcolor{keywordflow}{return} enable\_vsync\_;}
\DoxyCodeLine{169   \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_ac29629de6ce1e74a1086e8de7239b45a}\label{classhwcomposer_1_1NestedDisplay_ac29629de6ce1e74a1086e8de7239b45a}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Get\+Active\+Config@{Get\+Active\+Config}}
\index{Get\+Active\+Config@{Get\+Active\+Config}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Get\+Active\+Config()}{GetActiveConfig()}}
{\footnotesize\ttfamily bool hwcomposer\+::\+Nested\+Display\+::\+Get\+Active\+Config (\begin{DoxyParamCaption}\item[{uint32\+\_\+t $\ast$}]{config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_a9d4d9d2f6633fe37025210cac6e8cc6c}{hwcomposer\+::\+Native\+Display}}.



Definition at line 179 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{179                                                     \{}
\DoxyCodeLine{180   \textcolor{keywordflow}{if} (!config)}
\DoxyCodeLine{181     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{182 }
\DoxyCodeLine{183   config[0] = 0;}
\DoxyCodeLine{184   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{185 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_aa63c8ca48c295a453afe8d9bec3d8561}\label{classhwcomposer_1_1NestedDisplay_aa63c8ca48c295a453afe8d9bec3d8561}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Get\+Display\+Attribute@{Get\+Display\+Attribute}}
\index{Get\+Display\+Attribute@{Get\+Display\+Attribute}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Get\+Display\+Attribute()}{GetDisplayAttribute()}}
{\footnotesize\ttfamily bool hwcomposer\+::\+Nested\+Display\+::\+Get\+Display\+Attribute (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{,  }\item[{H\+W\+C\+Display\+Attribute}]{attribute,  }\item[{int32\+\_\+t $\ast$}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_aeb880e4a295eab49a98804380c2dcb84}{hwcomposer\+::\+Native\+Display}}.



Definition at line 373 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{375                                                         \{}
\DoxyCodeLine{376   \textcolor{comment}{// We always get the values from preferred mode config.}}
\DoxyCodeLine{377   \textcolor{keywordflow}{switch} (attribute) \{}
\DoxyCodeLine{378     \textcolor{keywordflow}{case} HWCDisplayAttribute::kWidth:}
\DoxyCodeLine{379       *value = width\_;}
\DoxyCodeLine{380       \textcolor{keywordflow}{break};}
\DoxyCodeLine{381     \textcolor{keywordflow}{case} HWCDisplayAttribute::kHeight:}
\DoxyCodeLine{382       *value = height\_;}
\DoxyCodeLine{383       \textcolor{keywordflow}{break};}
\DoxyCodeLine{384     \textcolor{keywordflow}{case} HWCDisplayAttribute::kRefreshRate:}
\DoxyCodeLine{385       \textcolor{comment}{// in nanoseconds}}
\DoxyCodeLine{386       *value = 16666666;}
\DoxyCodeLine{387       \textcolor{keywordflow}{break};}
\DoxyCodeLine{388     \textcolor{keywordflow}{case} HWCDisplayAttribute::kDpiX:}
\DoxyCodeLine{389       \textcolor{comment}{// Dots per 1000 inches}}
\DoxyCodeLine{390       *value = 1;}
\DoxyCodeLine{391       \textcolor{keywordflow}{break};}
\DoxyCodeLine{392     \textcolor{keywordflow}{case} HWCDisplayAttribute::kDpiY:}
\DoxyCodeLine{393       \textcolor{comment}{// Dots per 1000 inches}}
\DoxyCodeLine{394       *value = 1;}
\DoxyCodeLine{395       \textcolor{keywordflow}{break};}
\DoxyCodeLine{396     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{397       *value = -1;}
\DoxyCodeLine{398       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{399   \}}
\DoxyCodeLine{400 }
\DoxyCodeLine{401   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{402 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_a211f5d6783771f5bd7ffcf68566262ed}\label{classhwcomposer_1_1NestedDisplay_a211f5d6783771f5bd7ffcf68566262ed}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Get\+Display\+Configs@{Get\+Display\+Configs}}
\index{Get\+Display\+Configs@{Get\+Display\+Configs}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Get\+Display\+Configs()}{GetDisplayConfigs()}}
{\footnotesize\ttfamily bool hwcomposer\+::\+Nested\+Display\+::\+Get\+Display\+Configs (\begin{DoxyParamCaption}\item[{uint32\+\_\+t $\ast$}]{num\+\_\+configs,  }\item[{uint32\+\_\+t $\ast$}]{configs }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_a9479dcf82765996db6d7ea1cdcef3864}{hwcomposer\+::\+Native\+Display}}.



Definition at line 404 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{405                                                          \{}
\DoxyCodeLine{406   *num\_configs = 1;}
\DoxyCodeLine{407   \textcolor{keywordflow}{if} (configs)}
\DoxyCodeLine{408     configs[0] = 0;}
\DoxyCodeLine{409 }
\DoxyCodeLine{410   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{411 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_a0a1ca305ffa0ace0c2bd5ff601db9b18}\label{classhwcomposer_1_1NestedDisplay_a0a1ca305ffa0ace0c2bd5ff601db9b18}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Get\+Display\+Name@{Get\+Display\+Name}}
\index{Get\+Display\+Name@{Get\+Display\+Name}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Get\+Display\+Name()}{GetDisplayName()}}
{\footnotesize\ttfamily bool hwcomposer\+::\+Nested\+Display\+::\+Get\+Display\+Name (\begin{DoxyParamCaption}\item[{uint32\+\_\+t $\ast$}]{size,  }\item[{char $\ast$}]{name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_a28c095d6d08c84e40b5d5160d038f0b5}{hwcomposer\+::\+Native\+Display}}.



Definition at line 413 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{413                                                              \{}
\DoxyCodeLine{414   std::ostringstream stream;}
\DoxyCodeLine{415   stream << \textcolor{stringliteral}{"Nested"};}
\DoxyCodeLine{416   std::string \textcolor{keywordtype}{string} = stream.str();}
\DoxyCodeLine{417   \textcolor{keywordtype}{size\_t} length = \textcolor{keywordtype}{string}.length();}
\DoxyCodeLine{418   \textcolor{keywordflow}{if} (!name) \{}
\DoxyCodeLine{419     *size = length;}
\DoxyCodeLine{420     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{421   \}}
\DoxyCodeLine{422 }
\DoxyCodeLine{423   *size = std::min<uint32\_t>(\textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(length - 1), *size);}
\DoxyCodeLine{424   strncpy(name, \textcolor{keywordtype}{string}.c\_str(), *size);}
\DoxyCodeLine{425   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{426 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_a71d26edcadd23a93362ca5643dc1f6cf}\label{classhwcomposer_1_1NestedDisplay_a71d26edcadd23a93362ca5643dc1f6cf}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Get\+Display\+Pipe@{Get\+Display\+Pipe}}
\index{Get\+Display\+Pipe@{Get\+Display\+Pipe}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Get\+Display\+Pipe()}{GetDisplayPipe()}}
{\footnotesize\ttfamily int hwcomposer\+::\+Nested\+Display\+::\+Get\+Display\+Pipe (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

A\+PI for getting connected display\textquotesingle{}s pipe id. \begin{DoxyReturn}{Returns}
\char`\"{}-\/1\char`\"{} for unconnected display, valid values are 0 $\sim$ 2. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_aaf80095ae6aed35c64dd633a6a2f101a}{hwcomposer\+::\+Native\+Display}}.



Definition at line 170 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{170                                   \{}
\DoxyCodeLine{171   \textcolor{keywordflow}{return} -1;}
\DoxyCodeLine{172 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_ad83400a54d34d803fd427d9dc17ca95f}\label{classhwcomposer_1_1NestedDisplay_ad83400a54d34d803fd427d9dc17ca95f}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Height@{Height}}
\index{Height@{Height}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Height()}{Height()}}
{\footnotesize\ttfamily uint32\+\_\+t hwcomposer\+::\+Nested\+Display\+::\+Height (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_a09a19377e64e1fed90ae8315a8e71864}{hwcomposer\+::\+Native\+Display}}.



Definition at line 117 of file nesteddisplay.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{117                                    \{}
\DoxyCodeLine{118     \textcolor{keywordflow}{return} height\_;}
\DoxyCodeLine{119   \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_a1da3837cf3cb8fd5f3f2e9bdd7b339ff}\label{classhwcomposer_1_1NestedDisplay_a1da3837cf3cb8fd5f3f2e9bdd7b339ff}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Hot\+Plug\+Update@{Hot\+Plug\+Update}}
\index{Hot\+Plug\+Update@{Hot\+Plug\+Update}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Hot\+Plug\+Update()}{HotPlugUpdate()}}
{\footnotesize\ttfamily void hwcomposer\+::\+Nested\+Display\+::\+Hot\+Plug\+Update (\begin{DoxyParamCaption}\item[{bool}]{connected }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_a30e5c044e3a84ed23d2b3a5cec3f9037}{hwcomposer\+::\+Native\+Display}}.



Definition at line 336 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{336                                         \{}
\DoxyCodeLine{337   \textcolor{keywordflow}{if} (hotplug\_callback\_) \{}
\DoxyCodeLine{338     \mbox{\hyperlink{hwctrace_8h_af8c38c979e9089c283d2f5923089b538}{IHOTPLUGEVENTTRACE}}(}
\DoxyCodeLine{339         \textcolor{stringliteral}{"NestedDisplay RegisterHotPlugCallback: id: \%d display: \%p"},}
\DoxyCodeLine{340         display\_id\_, \textcolor{keyword}{this});}
\DoxyCodeLine{341     hotplug\_callback\_->Callback(display\_id\_, \textcolor{keyword}{true});}
\DoxyCodeLine{342   \}}
\DoxyCodeLine{343 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_a40b99528a66752bbdf03f253476e5255}\label{classhwcomposer_1_1NestedDisplay_a40b99528a66752bbdf03f253476e5255}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Initialize()}{Initialize()}}
{\footnotesize\ttfamily bool hwcomposer\+::\+Nested\+Display\+::\+Initialize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classhwcomposer_1_1NativeBufferHandler}{Native\+Buffer\+Handler}} $\ast$}]{buffer\+\_\+handler,  }\item[{\mbox{\hyperlink{classhwcomposer_1_1FrameBufferManager}{Frame\+Buffer\+Manager}} $\ast$}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_a008eb015dda9b4ead93186b4897c2e3c}{hwcomposer\+::\+Native\+Display}}.



Definition at line 161 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{162                                                        \{}
\DoxyCodeLine{163   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{164 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_a39b326bbbe10454953815bb3e339c821}\label{classhwcomposer_1_1NestedDisplay_a39b326bbbe10454953815bb3e339c821}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Init\+Nested\+Display@{Init\+Nested\+Display}}
\index{Init\+Nested\+Display@{Init\+Nested\+Display}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Init\+Nested\+Display()}{InitNestedDisplay()}}
{\footnotesize\ttfamily void hwcomposer\+::\+Nested\+Display\+::\+Init\+Nested\+Display (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{width,  }\item[{uint32\+\_\+t}]{height,  }\item[{uint32\+\_\+t}]{port }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_abeaa73138aad163b3da6263818990ba4}{hwcomposer\+::\+Native\+Display}}.



Definition at line 149 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{150                                                      \{}
\DoxyCodeLine{151   width\_ = width;}
\DoxyCodeLine{152   height\_ = height;}
\DoxyCodeLine{153   port\_ = port;}
\DoxyCodeLine{154 \textcolor{preprocessor}{\#ifdef NESTED\_DISPLAY\_SUPPORT}}
\DoxyCodeLine{155   StartSockService();}
\DoxyCodeLine{156   st\_.reset(\textcolor{keyword}{new} SocketThread(\&mclient\_sock\_fd, \&mconnected, msock\_fd));}
\DoxyCodeLine{157   st\_->Initialize();}
\DoxyCodeLine{158 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{159 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_a3d55a6460b227f9f9e967d0f414d0159}\label{classhwcomposer_1_1NestedDisplay_a3d55a6460b227f9f9e967d0f414d0159}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Is\+Connected@{Is\+Connected}}
\index{Is\+Connected@{Is\+Connected}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Is\+Connected()}{IsConnected()}}
{\footnotesize\ttfamily bool hwcomposer\+::\+Nested\+Display\+::\+Is\+Connected (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

A\+PI to check if display is connected. 

Reimplemented from \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_af22694b3396866fd4f003755f4951b18}{hwcomposer\+::\+Native\+Display}}.



Definition at line 166 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{166                                       \{}
\DoxyCodeLine{167   \textcolor{keywordflow}{return} mconnected;}
\DoxyCodeLine{168 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_a7f08b439ab7e67ba6344471b9efe7d62}\label{classhwcomposer_1_1NestedDisplay_a7f08b439ab7e67ba6344471b9efe7d62}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Power\+Mode@{Power\+Mode}}
\index{Power\+Mode@{Power\+Mode}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Power\+Mode()}{PowerMode()}}
{\footnotesize\ttfamily uint32\+\_\+t hwcomposer\+::\+Nested\+Display\+::\+Power\+Mode (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_af03b22112e421559c5f59837a2209716}{hwcomposer\+::\+Native\+Display}}.



Definition at line 121 of file nesteddisplay.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{121                                       \{}
\DoxyCodeLine{122     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{123   \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_af7983c8f6bafff1ab2077f7b3d38a0de}\label{classhwcomposer_1_1NestedDisplay_af7983c8f6bafff1ab2077f7b3d38a0de}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Present@{Present}}
\index{Present@{Present}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Present()}{Present()}}
{\footnotesize\ttfamily bool hwcomposer\+::\+Nested\+Display\+::\+Present (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{structhwcomposer_1_1HwcLayer}{Hwc\+Layer}} $\ast$$>$ \&}]{source\+\_\+layers,  }\item[{int32\+\_\+t $\ast$}]{retire\+\_\+fence,  }\item[{\mbox{\hyperlink{classhwcomposer_1_1PixelUploaderCallback}{Pixel\+Uploader\+Callback}} $\ast$}]{call\+\_\+back = {\ttfamily \mbox{\hyperlink{alios_2platformdefines_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{N\+U\+LL}}},  }\item[{bool}]{handle\+\_\+constraints = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

A\+PI for showing content on screen. 
\begin{DoxyParams}{Parameters}
{\em source\+\_\+layers,are} & the layers to be shown on screen for this frame. \\
\hline
{\em retire\+\_\+fence} & will be populated with Native Fence object provided we are able to display source\+\_\+layers. When retire\+\_\+fence is signalled source\+\_\+layers are shown on the output and any previous frame composition results can be invalidated. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_a4825b8bc4b85e03b396ed6d2cf5bd8c0}{hwcomposer\+::\+Native\+Display}}.



Definition at line 191 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{194                                     \{}
\DoxyCodeLine{195 \textcolor{preprocessor}{\#ifndef NESTED\_DISPLAY\_SUPPORT}}
\DoxyCodeLine{196   \mbox{\hyperlink{platformcommondefines_8h_a55010dd9f045ede43b1c4fa3d249b1eb}{HWC\_UNUSED}}(source\_layers);}
\DoxyCodeLine{197   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{198 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{199   \textcolor{keywordflow}{if} (!mconnected)}
\DoxyCodeLine{200     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{201 }
\DoxyCodeLine{202   \textcolor{keywordtype}{int} ret = 0;}
\DoxyCodeLine{203   \textcolor{keywordtype}{size\_t} size = source\_layers.size();}
\DoxyCodeLine{204   \textcolor{keyword}{const} uint32\_t *pitches;}
\DoxyCodeLine{205   \textcolor{keyword}{const} uint32\_t *offsets;}
\DoxyCodeLine{206   \mbox{\hyperlink{structyalloc__handle}{HWCNativeHandle}} sf\_handle;}
\DoxyCodeLine{207   \textcolor{keywordtype}{size\_t} buffer\_number = 0;}
\DoxyCodeLine{208   \textcolor{keywordtype}{size\_t} info\_size = \textcolor{keyword}{sizeof}(vm\_buffer\_info);}
\DoxyCodeLine{209   \textcolor{keywordtype}{size\_t} header\_size = \textcolor{keyword}{sizeof}(vm\_header);}
\DoxyCodeLine{210 }
\DoxyCodeLine{211   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} layer\_index = 0; layer\_index < size; layer\_index++) \{}
\DoxyCodeLine{212     uint32\_t surf\_index = 0;}
\DoxyCodeLine{213     HwcLayer *layer = source\_layers.at(layer\_index);}
\DoxyCodeLine{214     \textcolor{keywordflow}{if} (!layer->IsVisible())}
\DoxyCodeLine{215       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{216 }
\DoxyCodeLine{217     \textcolor{keyword}{const} HwcRect<int> \&display\_frame = layer->GetDisplayFrame();}
\DoxyCodeLine{218     sf\_handle = layer->GetNativeHandle();}
\DoxyCodeLine{219     \textcolor{keyword}{auto} search = mHyperDmaExportedBuffers.find(sf\_handle);}
\DoxyCodeLine{220     \textcolor{keywordflow}{if} (search == mHyperDmaExportedBuffers.end()) \{}
\DoxyCodeLine{221       std::shared\_ptr<OverlayBuffer> buffer(\mbox{\hyperlink{alios_2platformdefines_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{222       buffer = \mbox{\hyperlink{classhwcomposer_1_1OverlayBuffer_a65693ce2be4d207ae036175a89fb66dc}{OverlayBuffer::CreateOverlayBuffer}}();}
\DoxyCodeLine{223       buffer->InitializeFromNativeHandle(sf\_handle, resource\_manager\_.get(),}
\DoxyCodeLine{224                                          fb\_manager\_);}
\DoxyCodeLine{225 }
\DoxyCodeLine{226       \textcolor{keywordflow}{if} (mHyperDmaBuf\_Fd > 0 \&\& buffer->GetPrimeFD() > 0) \{}
\DoxyCodeLine{227         \textcolor{keyword}{struct }ioctl\_hyper\_dmabuf\_export\_remote msg;}
\DoxyCodeLine{228         memset(\&msg, 0, \textcolor{keyword}{sizeof}(ioctl\_hyper\_dmabuf\_export\_remote));}
\DoxyCodeLine{229 }
\DoxyCodeLine{230         \textcolor{comment}{/* TODO: add more flexibility here, instead of hardcoded domain 0*/}}
\DoxyCodeLine{231         msg.remote\_domain = 0;}
\DoxyCodeLine{232         msg.dmabuf\_fd = buffer->GetPrimeFD();}
\DoxyCodeLine{233 }
\DoxyCodeLine{234         ret = ioctl(mHyperDmaBuf\_Fd, IOCTL\_HYPER\_DMABUF\_EXPORT\_REMOTE, \&msg);}
\DoxyCodeLine{235         \textcolor{keywordflow}{if} (ret) \{}
\DoxyCodeLine{236           \mbox{\hyperlink{alios_2platformdefines_8h_a226d6c99e4bcfca193c095e085e9097d}{ETRACE}}(\textcolor{stringliteral}{"Hyper DmaBuf: Exporting hyper\_dmabuf failed with error \%d\(\backslash\)n"},}
\DoxyCodeLine{237                  ret);}
\DoxyCodeLine{238           \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{239         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{240           \mbox{\hyperlink{alios_2platformdefines_8h_a2407a03fb42f0c0d39cdf7fe4850ec87}{ITRACE}}(\textcolor{stringliteral}{"Hyper DmaBuf: Exporting hyper\_dmabuf Done! 0x\%x\(\backslash\)n"},}
\DoxyCodeLine{241                  msg.hid.id);}
\DoxyCodeLine{242           mHyperDmaExportedBuffers[sf\_handle].surf\_index = surf\_index++;}
\DoxyCodeLine{243           mHyperDmaExportedBuffers[sf\_handle].width = buffer->GetWidth();}
\DoxyCodeLine{244           mHyperDmaExportedBuffers[sf\_handle].height = buffer->GetHeight();}
\DoxyCodeLine{245           mHyperDmaExportedBuffers[sf\_handle].format = buffer->GetFormat();}
\DoxyCodeLine{246           pitches = buffer->GetPitches();}
\DoxyCodeLine{247           offsets = buffer->GetOffsets();}
\DoxyCodeLine{248           mHyperDmaExportedBuffers[sf\_handle].pitch[0] = pitches[0];}
\DoxyCodeLine{249           mHyperDmaExportedBuffers[sf\_handle].pitch[1] = pitches[1];}
\DoxyCodeLine{250           mHyperDmaExportedBuffers[sf\_handle].pitch[2] = pitches[2];}
\DoxyCodeLine{251           mHyperDmaExportedBuffers[sf\_handle].offset[0] = offsets[0];}
\DoxyCodeLine{252           mHyperDmaExportedBuffers[sf\_handle].offset[1] = offsets[1];}
\DoxyCodeLine{253           mHyperDmaExportedBuffers[sf\_handle].offset[2] = offsets[2];}
\DoxyCodeLine{254           mHyperDmaExportedBuffers[sf\_handle].tile\_format =}
\DoxyCodeLine{255               buffer->GetTilingMode();}
\DoxyCodeLine{256           mHyperDmaExportedBuffers[sf\_handle].rotation = 0;}
\DoxyCodeLine{257           mHyperDmaExportedBuffers[sf\_handle].status = 0;}
\DoxyCodeLine{258           mHyperDmaExportedBuffers[sf\_handle].counter = 0;}
\DoxyCodeLine{259           mHyperDmaExportedBuffers[sf\_handle].hyper\_dmabuf\_id = msg.hid;}
\DoxyCodeLine{260           mHyperDmaExportedBuffers[sf\_handle].surface\_id = (uint64\_t)sf\_handle;}
\DoxyCodeLine{261           strncpy(mHyperDmaExportedBuffers[sf\_handle].surface\_name, \textcolor{stringliteral}{"Cluster"},}
\DoxyCodeLine{262                   SURFACE\_NAME\_LENGTH);}
\DoxyCodeLine{263           mHyperDmaExportedBuffers[sf\_handle].bbox[0] = display\_frame.left;}
\DoxyCodeLine{264           mHyperDmaExportedBuffers[sf\_handle].bbox[1] = display\_frame.top;}
\DoxyCodeLine{265           mHyperDmaExportedBuffers[sf\_handle].bbox[2] = buffer->GetWidth();}
\DoxyCodeLine{266           mHyperDmaExportedBuffers[sf\_handle].bbox[3] = buffer->GetHeight();}
\DoxyCodeLine{267         \}}
\DoxyCodeLine{268       \}}
\DoxyCodeLine{269     \}}
\DoxyCodeLine{270     memcpy(buf + \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}) + header\_size + info\_size * buffer\_number,}
\DoxyCodeLine{271            \&mHyperDmaExportedBuffers[sf\_handle], info\_size);}
\DoxyCodeLine{272     buffer\_number++;}
\DoxyCodeLine{273   \}}
\DoxyCodeLine{274   \textcolor{keywordtype}{int} *stream\_start = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{int} *\textcolor{keyword}{>}(buf);}
\DoxyCodeLine{275   *stream\_start = METADATA\_STREAM\_START;}
\DoxyCodeLine{276   vm\_header *header = \textcolor{keyword}{reinterpret\_cast<}vm\_header *\textcolor{keyword}{>}(buf + \textcolor{keyword}{sizeof}(int));}
\DoxyCodeLine{277   header->n\_buffers = buffer\_number;}
\DoxyCodeLine{278   header->version = 3;}
\DoxyCodeLine{279   header->output = 0;   \textcolor{comment}{// need clarify meaning}}
\DoxyCodeLine{280   header->counter = 0;  \textcolor{comment}{// add later}}
\DoxyCodeLine{281   header->disp\_w = width\_;}
\DoxyCodeLine{282   header->disp\_h = height\_;}
\DoxyCodeLine{283   \textcolor{keywordtype}{int} *stream\_end = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{int} *\textcolor{keyword}{>}(buf + \textcolor{keyword}{sizeof}(int) + header\_size +}
\DoxyCodeLine{284                                             info\_size * buffer\_number);}
\DoxyCodeLine{285   *stream\_end = METADATA\_STREAM\_END;}
\DoxyCodeLine{286   \textcolor{keywordtype}{int} msg\_size = header\_size + info\_size * buffer\_number + \textcolor{keyword}{sizeof}(int) * 2;}
\DoxyCodeLine{287   \textcolor{keywordtype}{int} rc;}
\DoxyCodeLine{288   \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{289     rc = HyperCommunicationNetworkSendData(buf, msg\_size);}
\DoxyCodeLine{290   \} \textcolor{keywordflow}{while} (rc != msg\_size \&\& rc >= 0);}
\DoxyCodeLine{291   memset(buf, 0, METADATA\_BUFFER\_SIZE);}
\DoxyCodeLine{292 }
\DoxyCodeLine{293   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{294 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{295 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_ae78bf526c8b23585edffc5e1d306647d}\label{classhwcomposer_1_1NestedDisplay_ae78bf526c8b23585edffc5e1d306647d}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Present\+Clone@{Present\+Clone}}
\index{Present\+Clone@{Present\+Clone}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Present\+Clone()}{PresentClone()}}
{\footnotesize\ttfamily bool hwcomposer\+::\+Nested\+Display\+::\+Present\+Clone (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classhwcomposer_1_1NativeDisplay}{Native\+Display}} $\ast$}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_ae031f7f90f8a4ab3fba24a31c4cc6b74}{hwcomposer\+::\+Native\+Display}}.



Definition at line 297 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{297                                                   \{}
\DoxyCodeLine{298   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{299 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_aec45c2f726c5a38a918a806b524530b1}\label{classhwcomposer_1_1NestedDisplay_aec45c2f726c5a38a918a806b524530b1}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Refresh\+Update@{Refresh\+Update}}
\index{Refresh\+Update@{Refresh\+Update}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Refresh\+Update()}{RefreshUpdate()}}
{\footnotesize\ttfamily void hwcomposer\+::\+Nested\+Display\+::\+Refresh\+Update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 330 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{330                                   \{}
\DoxyCodeLine{331   \textcolor{keywordflow}{if} (refresh\_callback\_) \{}
\DoxyCodeLine{332     refresh\_callback\_->Callback(display\_id\_);}
\DoxyCodeLine{333   \}}
\DoxyCodeLine{334 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_a0e9948e4763ef5abcdfcd12e42ef7267}\label{classhwcomposer_1_1NestedDisplay_a0e9948e4763ef5abcdfcd12e42ef7267}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Register\+Hot\+Plug\+Callback@{Register\+Hot\+Plug\+Callback}}
\index{Register\+Hot\+Plug\+Callback@{Register\+Hot\+Plug\+Callback}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Register\+Hot\+Plug\+Callback()}{RegisterHotPlugCallback()}}
{\footnotesize\ttfamily void hwcomposer\+::\+Nested\+Display\+::\+Register\+Hot\+Plug\+Callback (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classhwcomposer_1_1HotPlugCallback}{Hot\+Plug\+Callback}} $>$}]{,  }\item[{uint32\+\_\+t}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

A\+PI for registering for hotplug callback requests. 
\begin{DoxyParams}{Parameters}
{\em callback,function} & which will be used by H\+WC to notify client of a hot plug event. \\
\hline
{\em display\+\_\+id} & will be populated with id of the display. \\
\hline
\end{DoxyParams}


Reimplemented from \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_a4080879c203571d6404ba3b3aff53631}{hwcomposer\+::\+Native\+Display}}.



Definition at line 314 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{315                                                                   \{}
\DoxyCodeLine{316   display\_id\_ = display\_id;}
\DoxyCodeLine{317   hotplug\_callback\_ = callback;}
\DoxyCodeLine{318 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_a821c1f2bf3622c4889e8c84f2a6935d3}\label{classhwcomposer_1_1NestedDisplay_a821c1f2bf3622c4889e8c84f2a6935d3}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Register\+Refresh\+Callback@{Register\+Refresh\+Callback}}
\index{Register\+Refresh\+Callback@{Register\+Refresh\+Callback}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Register\+Refresh\+Callback()}{RegisterRefreshCallback()}}
{\footnotesize\ttfamily void hwcomposer\+::\+Nested\+Display\+::\+Register\+Refresh\+Callback (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classhwcomposer_1_1RefreshCallback}{Refresh\+Callback}} $>$}]{,  }\item[{uint32\+\_\+t}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

A\+PI for registering for refresh callback requests. 
\begin{DoxyParams}{Parameters}
{\em callback,function} & which will be used by H\+WC to request client to trigger a screen refresh. This will be used to optimize scenarios like idle mode. \\
\hline
{\em display\+\_\+id} & will be populated with id of the display. \\
\hline
\end{DoxyParams}


Reimplemented from \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_a237627e6cacf9246813bc7f48c5817cd}{hwcomposer\+::\+Native\+Display}}.



Definition at line 308 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{309                                                                   \{}
\DoxyCodeLine{310   display\_id\_ = display\_id;}
\DoxyCodeLine{311   refresh\_callback\_ = callback;}
\DoxyCodeLine{312 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_a09a16cff82bc26e862eaa2e8bb9cbe67}\label{classhwcomposer_1_1NestedDisplay_a09a16cff82bc26e862eaa2e8bb9cbe67}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Register\+Vsync\+Callback@{Register\+Vsync\+Callback}}
\index{Register\+Vsync\+Callback@{Register\+Vsync\+Callback}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Register\+Vsync\+Callback()}{RegisterVsyncCallback()}}
{\footnotesize\ttfamily int hwcomposer\+::\+Nested\+Display\+::\+Register\+Vsync\+Callback (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classhwcomposer_1_1VsyncCallback}{Vsync\+Callback}} $>$}]{callback,  }\item[{uint32\+\_\+t}]{display\+\_\+id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_a0732e4b24a348aaf1e0b801b9a5f3c39}{hwcomposer\+::\+Native\+Display}}.



Definition at line 301 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{302                                                                 \{}
\DoxyCodeLine{303   display\_id\_ = display\_id;}
\DoxyCodeLine{304   vsync\_callback\_ = callback;}
\DoxyCodeLine{305   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{306 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_abfb4cca89f1ae116a487f92a6d1143a8}\label{classhwcomposer_1_1NestedDisplay_abfb4cca89f1ae116a487f92a6d1143a8}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Set\+Active\+Config@{Set\+Active\+Config}}
\index{Set\+Active\+Config@{Set\+Active\+Config}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Set\+Active\+Config()}{SetActiveConfig()}}
{\footnotesize\ttfamily bool hwcomposer\+::\+Nested\+Display\+::\+Set\+Active\+Config (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_a63c51853e0d82baf9d6445cf831a5ad1}{hwcomposer\+::\+Native\+Display}}.



Definition at line 174 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{174                                                    \{}
\DoxyCodeLine{175   config\_ = config;}
\DoxyCodeLine{176   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{177 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_ada28a82438946b62966b8e3fb4ad3e9d}\label{classhwcomposer_1_1NestedDisplay_ada28a82438946b62966b8e3fb4ad3e9d}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Set\+Brightness@{Set\+Brightness}}
\index{Set\+Brightness@{Set\+Brightness}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Set\+Brightness()}{SetBrightness()}}
{\footnotesize\ttfamily void hwcomposer\+::\+Nested\+Display\+::\+Set\+Brightness (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{,  }\item[{uint32\+\_\+t}]{,  }\item[{uint32\+\_\+t}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

A\+PI for setting display color brightness in H\+WC 
\begin{DoxyParams}{Parameters}
{\em red} & valid value is 0 $\sim$ 255, bigger value with stronger brightness \\
\hline
{\em green} & valid value is 0 $\sim$ 255, bigger value with stronger brightness \\
\hline
{\em blue} & valid value is 0 $\sim$ 255, bigger value with stronger brightness \\
\hline
\end{DoxyParams}


Reimplemented from \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_a6ebf02e96a0c6e674cf091dda937ebb2}{hwcomposer\+::\+Native\+Display}}.



Definition at line 357 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{358                                               \{}
\DoxyCodeLine{359 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_aa3509b6c817d6ff091e3cf5000d64bc3}\label{classhwcomposer_1_1NestedDisplay_aa3509b6c817d6ff091e3cf5000d64bc3}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Set\+Contrast@{Set\+Contrast}}
\index{Set\+Contrast@{Set\+Contrast}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Set\+Contrast()}{SetContrast()}}
{\footnotesize\ttfamily void hwcomposer\+::\+Nested\+Display\+::\+Set\+Contrast (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{,  }\item[{uint32\+\_\+t}]{,  }\item[{uint32\+\_\+t}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

A\+PI for setting display color contrast in H\+WC 
\begin{DoxyParams}{Parameters}
{\em red} & valid value is 0 $\sim$ 255, bigger value with stronger contrast \\
\hline
{\em green} & valid value is 0 $\sim$ 255, bigger value with stronger contrast \\
\hline
{\em blue} & valid value is 0 $\sim$ 255, bigger value with stronger contrast \\
\hline
\end{DoxyParams}


Reimplemented from \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_ac12f3a73bcf169c4cca38f994431ddfb}{hwcomposer\+::\+Native\+Display}}.



Definition at line 353 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{354                                             \{}
\DoxyCodeLine{355 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_a9567352fc212a0e9a4530183a9ec96ea}\label{classhwcomposer_1_1NestedDisplay_a9567352fc212a0e9a4530183a9ec96ea}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Set\+Explicit\+Sync\+Support@{Set\+Explicit\+Sync\+Support}}
\index{Set\+Explicit\+Sync\+Support@{Set\+Explicit\+Sync\+Support}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Set\+Explicit\+Sync\+Support()}{SetExplicitSyncSupport()}}
{\footnotesize\ttfamily void hwcomposer\+::\+Nested\+Display\+::\+Set\+Explicit\+Sync\+Support (\begin{DoxyParamCaption}\item[{bool}]{disable\+\_\+explicit\+\_\+sync }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_a986975322078e900da95f78be42ad88b}{hwcomposer\+::\+Native\+Display}}.



Definition at line 361 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{361                                                  \{}
\DoxyCodeLine{362 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_ad43575ee1695666a74cf5cb44d64f98e}\label{classhwcomposer_1_1NestedDisplay_ad43575ee1695666a74cf5cb44d64f98e}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Set\+Gamma@{Set\+Gamma}}
\index{Set\+Gamma@{Set\+Gamma}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Set\+Gamma()}{SetGamma()}}
{\footnotesize\ttfamily void hwcomposer\+::\+Nested\+Display\+::\+Set\+Gamma (\begin{DoxyParamCaption}\item[{float}]{,  }\item[{float}]{,  }\item[{float}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

A\+PI for setting color gamma value of display in H\+WC, which be used to remap original color brightness to new one by gamma color correction. H\+WC uses default gamma value 2.\+2 which popular display is using, and allow users to change gamma value for R\+GB colors by this A\+PI, e.\+g. 0 will remap all gradient brightness of the color to brightest value (solid color).


\begin{DoxyParams}{Parameters}
{\em red} & red color gamma value \\
\hline
{\em green} & blue color gamma value \\
\hline
{\em blue} & blue color gamma value \\
\hline
\end{DoxyParams}


Reimplemented from \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_a2956fb8a26ec77521a613ae1c0eaaf49}{hwcomposer\+::\+Native\+Display}}.



Definition at line 350 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{350                                                       \{}
\DoxyCodeLine{351 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_a4cab919931af541339c97f3b2d8b032d}\label{classhwcomposer_1_1NestedDisplay_a4cab919931af541339c97f3b2d8b032d}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Set\+Power\+Mode@{Set\+Power\+Mode}}
\index{Set\+Power\+Mode@{Set\+Power\+Mode}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Set\+Power\+Mode()}{SetPowerMode()}}
{\footnotesize\ttfamily bool hwcomposer\+::\+Nested\+Display\+::\+Set\+Power\+Mode (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{power\+\_\+mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_a9ea847cb1e75677fca7dabbcfb59a26a}{hwcomposer\+::\+Native\+Display}}.



Definition at line 187 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{187                                            \{}
\DoxyCodeLine{188   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{189 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_a5e0cd87bc15e94b2997fcfbb37060602}\label{classhwcomposer_1_1NestedDisplay_a5e0cd87bc15e94b2997fcfbb37060602}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Type@{Type}}
\index{Type@{Type}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Type()}{Type()}}
{\footnotesize\ttfamily Display\+Type hwcomposer\+::\+Nested\+Display\+::\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_a67018275066174f9e5d4b801cd6fea31}{hwcomposer\+::\+Native\+Display}}.



Definition at line 109 of file nesteddisplay.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{109                                     \{}
\DoxyCodeLine{110     \textcolor{keywordflow}{return} DisplayType::kNested;}
\DoxyCodeLine{111   \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_a0eb08cdb0c39587a72021ff945d33b72}\label{classhwcomposer_1_1NestedDisplay_a0eb08cdb0c39587a72021ff945d33b72}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Update\+Scaling\+Ratio@{Update\+Scaling\+Ratio}}
\index{Update\+Scaling\+Ratio@{Update\+Scaling\+Ratio}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Update\+Scaling\+Ratio()}{UpdateScalingRatio()}}
{\footnotesize\ttfamily void hwcomposer\+::\+Nested\+Display\+::\+Update\+Scaling\+Ratio (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{,  }\item[{uint32\+\_\+t}]{,  }\item[{uint32\+\_\+t}]{,  }\item[{uint32\+\_\+t}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Scales layers of display to match it\textquotesingle{}s resolutions in case this display is in cloned mode and resolution doesn\textquotesingle{}t match with Source Display. 

Reimplemented from \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_abfad592c2a5e956760c194fa7831171c}{hwcomposer\+::\+Native\+Display}}.



Definition at line 364 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{367                                                    \{}
\DoxyCodeLine{368 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_ab6b0f8f36573b7c347805131734f0b47}\label{classhwcomposer_1_1NestedDisplay_ab6b0f8f36573b7c347805131734f0b47}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!V\+Sync\+Control@{V\+Sync\+Control}}
\index{V\+Sync\+Control@{V\+Sync\+Control}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{V\+Sync\+Control()}{VSyncControl()}}
{\footnotesize\ttfamily void hwcomposer\+::\+Nested\+Display\+::\+V\+Sync\+Control (\begin{DoxyParamCaption}\item[{bool}]{enabled }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_a6817e88bc9def8ae1ae8088922803dc1}{hwcomposer\+::\+Native\+Display}}.



Definition at line 320 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{320                                              \{}
\DoxyCodeLine{321   enable\_vsync\_ = enabled;}
\DoxyCodeLine{322 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_af8b1fdc35bf85d4fbb8aab569c20d7ef}\label{classhwcomposer_1_1NestedDisplay_af8b1fdc35bf85d4fbb8aab569c20d7ef}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!V\+Sync\+Update@{V\+Sync\+Update}}
\index{V\+Sync\+Update@{V\+Sync\+Update}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{V\+Sync\+Update()}{VSyncUpdate()}}
{\footnotesize\ttfamily void hwcomposer\+::\+Nested\+Display\+::\+V\+Sync\+Update (\begin{DoxyParamCaption}\item[{int64\+\_\+t}]{timestamp }\end{DoxyParamCaption})}



Definition at line 324 of file nesteddisplay.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{324                                                  \{}
\DoxyCodeLine{325   \textcolor{keywordflow}{if} (vsync\_callback\_ \&\& enable\_vsync\_) \{}
\DoxyCodeLine{326     vsync\_callback\_->Callback(display\_id\_, timestamp);}
\DoxyCodeLine{327   \}}
\DoxyCodeLine{328 \}}
\end{DoxyCode}
\mbox{\Hypertarget{classhwcomposer_1_1NestedDisplay_ab3c886e199ed0eb383496eb3c3b9da9c}\label{classhwcomposer_1_1NestedDisplay_ab3c886e199ed0eb383496eb3c3b9da9c}} 
\index{hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}!Width@{Width}}
\index{Width@{Width}!hwcomposer\+::\+Nested\+Display@{hwcomposer\+::\+Nested\+Display}}
\subsubsection{\texorpdfstring{Width()}{Width()}}
{\footnotesize\ttfamily uint32\+\_\+t hwcomposer\+::\+Nested\+Display\+::\+Width (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classhwcomposer_1_1NativeDisplay_a9a18c3dfba567c86c088b06febda4019}{hwcomposer\+::\+Native\+Display}}.



Definition at line 113 of file nesteddisplay.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{113                                   \{}
\DoxyCodeLine{114     \textcolor{keywordflow}{return} width\_;}
\DoxyCodeLine{115   \}}
\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
common/core/\mbox{\hyperlink{nesteddisplay_8h}{nesteddisplay.\+h}}\item 
common/core/\mbox{\hyperlink{nesteddisplay_8cpp}{nesteddisplay.\+cpp}}\end{DoxyCompactItemize}
